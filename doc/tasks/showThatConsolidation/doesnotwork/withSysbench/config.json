{ 
    "sourceId" : "cca3b13d1002596a4bdf705a2864051a4c72c160f25b9281638349a4",
    "total_mem_limit" : 3896508416,
    "containers" : [
        {
            "name" : "sysbench1",
            "image" : "sysbench:latest",
            "entrypoint" : "bash",
            "command" : [ "-c", "while : ; do sleep 1; done" ],
	    "host_config" : {
		"cpuset_cpus" : "4,5"
	    }
        },
        {
            "name" : "sysbench2",
            "image" : "sysbench:latest",
            "entrypoint" : "bash",
            "command" : [ "-c", "while : ; do sleep 1; done" ],
	    "host_config" : {
		"cpuset_cpus" : "6,7"
	    }
        },
        {
            "name" : "mysql1",
            "image" : "mysql:latest",
            "environment" : { "MYSQL_ALLOW_EMPTY_PASSWORD" : "yes" },
            "host_config" : {
		"binds" : ["db1-10000000:/var/lib/mysql"],
                "oom_kill_disable" : true,
                "mem_limit" : 1073741824,
                "cpuset_cpus" : "0,1",
                "device_write_bps" : [ { "Path" : "/dev/sda", "Rate" : 524288000 } ],
                "device_read_bps" : [ { "Path" : "/dev/sda", "Rate" : 20971520 } ]
            }
        },
        {
            "name" : "mysql2",
            "image" : "mysql:latest",
            "environment" : { "MYSQL_ALLOW_EMPTY_PASSWORD" : "yes" },
            "host_config" : {
		"binds" : ["db2-10000000:/var/lib/mysql"],
                "oom_kill_disable" : true,
                "mem_limit" : 1073741824,
                "cpuset_cpus" : "2,3",
                "device_write_bps" : [ { "Path" : "/dev/sda", "Rate" : 524288000 } ],
                "device_read_bps" : [ { "Path" : "/dev/sda", "Rate" : 20971520 } ]
            }
        },
        {
            "name" : "cassandra",
            "image" : "cassandra:latest",
            "host_config" : {
                "oom_kill_disable" : true,
                "cpuset_cpus" : "2,3"
            }
        }
    ],
    "boot_ctl" : [
        {
            "container" : "cassandra",
            "start_delay" : 900,
            "duration" : 900
        }
    ],
    "sysbench_ctl" : [
        {
            "client_container" : "sysbench1",
            "server_container" : "mysql1",
	    "dbname" : "db1",
            "duration" : 1800,
            "dbsize" : 10000000,
            "oltp_read_only" : true,
            "threads" : 8
        },
        {
            "client_container" : "sysbench2",
            "server_container" : "mysql2",
	    "dbname" : "db2",
            "duration" : 600,
            "dbsize" : 10000000,
            "oltp_read_only" : true,
            "threads" : 8
        }
    ]
}
